"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=function(){return(r=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var u in r=arguments[n])Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u]);return e}).apply(this,arguments)};function n(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(t=Object.getOwnPropertySymbols(e);u<t.length;u++)r.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(e,t[u])&&(n[t[u]]=e[t[u]])}return n}function t(e,r,n,t){return new(n||(n=Promise))((function(u,c){function i(e){try{o(t.next(e))}catch(e){c(e)}}function a(e){try{o(t.throw(e))}catch(e){c(e)}}function o(e){var r;e.done?u(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}o((t=t.apply(e,r||[])).next())}))}function u(e,r){var n,t,u,c,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,t&&(u=2&c[0]?t.return:c[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,c[1])).done)return u;switch(t=0,u&&(c=[2&c[0],u.value]),c[0]){case 0:case 1:u=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,t=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(u=i.trys,(u=u.length>0&&u[u.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!u||c[1]>u[0]&&c[1]<u[3])){i.label=c[1];break}if(6===c[0]&&i.label<u[1]){i.label=u[1],u=c;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(c);break}u[2]&&i.ops.pop(),i.trys.pop();continue}c=r.call(e,i)}catch(e){c=[6,e],t=0}finally{n=u=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}function c(e){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,r){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var t,u,c=n.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(t=c.next()).done;)i.push(t.value)}catch(e){u={error:e}}finally{try{t&&!t.done&&(n=c.return)&&n.call(c)}finally{if(u)throw u.error}}return i}function a(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(i(arguments[r]));return e}var o=function(e){return e instanceof HTMLElement},s="blur",l="change",f="input",d="onBlur",v="onChange",h="onSubmit",y="all",p="max",m="min",b="maxLength",g="minLength",R="pattern",x="required",O="validate";var w=function(e){return null==e},k=function(e){return Array.isArray(e)},C=function(e){return"object"==typeof e},V=function(e){return!w(e)&&!k(e)&&C(e)},S=function(e){return!k(e)&&(/^\w*$/.test(e)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(e))},E=function(e){var r=[];return e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,(function(e,n,t,u){r.push(t?u.replace(/\\(\\)?/g,"$1"):n||e)})),r};function F(e,r,n){for(var t=-1,u=S(r)?[r]:E(r),c=u.length,i=c-1;++t<c;){var a=u[t],o=n;if(t!==i){var s=e[a];o=V(s)||k(s)?s:isNaN(+u[t+1])?{}:[]}e[a]=o,e=e[a]}return e}var D=function(e){return Object.entries(e).reduce((function(e,n){var t,u=i(n,2),c=u[0],a=u[1];return S(c)?r(r({},e),((t={})[c]=a,t)):(F(e,c,a),e)}),{})},j=function(e){return void 0===e},B=function(e){return e.filter(Boolean)},A=function(e,r,n){var t=B(r.split(/[,[\].]+?/)).reduce((function(e,r){return w(e)?e:e[r]}),e);return j(t)||t===e?j(e[r])?n:e[r]:t},W=function(e,r){o(e)&&e.removeEventListener&&(e.removeEventListener(f,r),e.removeEventListener(l,r),e.removeEventListener(s,r))},L={isValid:!1,value:""},N=function(e){return k(e)?e.reduce((function(e,r){return r&&r.ref.checked?{isValid:!0,value:r.ref.value}:e}),L):L},P=function(e){return"radio"===e.type},M=function(e){return"file"===e.type},H=function(e){return"checkbox"===e.type},T=function(e){return"select-multiple"===e.type},I={value:!1,isValid:!1},q={value:!0,isValid:!0},z=function(e){if(k(e)){if(e.length>1){var r=e.filter((function(e){return e&&e.ref.checked})).map((function(e){return e.ref.value}));return{value:r,isValid:!!r.length}}var n=e[0].ref,t=n.checked,u=n.value,c=n.attributes;return t?c&&!j(c.value)?j(u)||""===u?q:{value:u,isValid:!0}:q:I}return I};function $(e,r,n){var t=e.current[r];if(t){var u=t.ref.value,c=t.ref;return M(c)?c.files:P(c)?N(t.options).value:T(c)?a(c.options).filter((function(e){return e.selected})).map((function(e){return e.value})):H(c)?z(t.options).value:u}if(n)return n.current[r]}function _(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&_(e.parentNode)}var U=function(e){return V(e)&&!Object.keys(e).length};function G(e,r){var n=S(r)?[r]:E(r),t=1==n.length?e:function(e,r){for(var n=r.slice(0,-1).length,t=0;t<n;)e=j(e)?t++:e[r[t++]];return e}(e,n),u=n[n.length-1],c=void 0;t&&delete t[u];for(var i=0;i<n.slice(0,-1).length;i++){var a=-1,o=void 0,s=n.slice(0,-(i+1)),l=s.length-1;for(i>0&&(c=e);++a<s.length;){var f=s[a];o=o?o[f]:e[f],l===a&&(V(o)&&U(o)||k(o)&&!o.filter((function(e){return V(e)&&!U(e)})).length)&&(c?delete c[f]:delete e[f]),c=o}}return e}var J=function(e,r){return e&&e.ref===r};var K=function(e){return"string"==typeof e},Q=function(e,n,t){var u={},c=function(r){(j(t)||(K(t)?r.startsWith(t):k(t)&&t.find((function(e){return r.startsWith(e)}))))&&(u[r]=$(e,r))};for(var i in e.current)c(i);return r(r({},(n||{}).current),D(u))},X=function(e,r){var n=r.type,t=r.types,u=void 0===t?{}:t,c=r.message;return V(e)&&e.type===n&&e.message===c&&Object.keys(e.types||{}).length===Object.keys(u).length&&Object.entries(e.types||{}).every((function(e){var r=i(e,2),n=r[0],t=r[1];return u[n]===t}))};var Y=function(e){return e instanceof RegExp},Z=function(e){return V(r=e)&&!Y(r)?e:{value:e,message:""};var r},ee=function(e){return"function"==typeof e},re=function(e){return"boolean"==typeof e},ne=function(r){return K(r)||V(r)&&e.isValidElement(r)};function te(e,r,n){if(void 0===n&&(n="validate"),ne(e)||re(e)&&!e)return{type:n,message:ne(e)?e:"",ref:r}}var ue=function(e,n,t,u,c){var i;if(n){var a=t[e];return r(r({},a),{types:r(r({},a&&a.types?a.types:{}),(i={},i[u]=c||!0,i))})}return{}},ce=function(e,n,a,o){var s=a.ref,l=a.ref,f=l.type,d=l.value,v=a.options,h=a.required,y=a.maxLength,k=a.minLength,C=a.min,S=a.max,E=a.pattern,F=a.validate;return t(void 0,void 0,void 0,(function(){var t,a,l,D,j,B,A,W,L,M,T,I,q,_,G,J,Q,X,ce,ie,ae,oe,se,le,fe,de,ve,he,ye,pe,me,be,ge,Re,xe,Oe,we,ke,Ce,Ve,Se,Ee,Fe,De,je,Be;return u(this,(function(u){switch(u.label){case 0:return t=e.current,a=s.name,l={},D=P(s),j=H(s),B=D||j,A=""===d,W=ue.bind(null,a,n,l),L=function(e,n,t,u,c){void 0===u&&(u=b),void 0===c&&(c=g);var i=e?n:t;l[a]=r({type:e?u:c,message:i,ref:s},W(e?u:c,i))},h&&(!D&&!j&&(A||w(d))||re(d)&&!d||j&&!z(v).isValid||D&&!N(v).isValid)&&(M=ne(h)?{value:!!h,message:h}:Z(h),T=M.value,I=M.message,T&&(l[a]=r({type:x,message:I,ref:B?(t[a].options||[])[0].ref:s},W(x,I)),!n))?[2,l]:(w(C)&&w(S)||(he=void 0,ye=void 0,q=Z(S),_=q.value,G=q.message,J=Z(C),Q=J.value,X=J.message,"number"===f||!f&&!isNaN(d)?(ce=s.valueAsNumber||parseFloat(d),w(_)||(he=ce>_),w(Q)||(ye=ce<Q)):(ie=s.valueAsDate||new Date(d),K(_)&&(he=ie>new Date(_)),K(Q)&&(ye=ie<new Date(Q))),!he&&!ye||(L(!!he,G,X,p,m),n)))&&(!K(d)||A||!y&&!k||(ae=Z(y),oe=ae.value,se=ae.message,le=Z(k),fe=le.value,de=le.message,ve=d.toString().length,he=!w(oe)&&ve>oe,ye=!w(fe)&&ve<fe,!he&&!ye||(L(!!he,se,de),n)))&&(!E||A||(pe=Z(E),me=pe.value,be=pe.message,!Y(me)||me.test(d)||(l[a]=r({type:R,message:be,ref:s},W(R,be)),n)))?F?(ge=$(e,a,o),Re=B&&v?v[0].ref:s,ee(F)?[4,F(ge)]:[3,2]):[3,11]:[2,l];case 1:return xe=u.sent(),(Fe=te(xe,Re))&&(l[a]=r(r({},Fe),W(O,Fe.message)),!n)?[2,l]:[3,11];case 2:if(!V(F))return[3,11];Oe={},u.label=3;case 3:u.trys.push([3,8,9,10]),we=c(Object.entries(F)),ke=we.next(),u.label=4;case 4:return ke.done?[3,7]:(Ce=i(ke.value,2),Ve=Ce[0],Se=Ce[1],U(Oe)||n?[4,Se(ge)]:[3,7]);case 5:Ee=u.sent(),(Fe=te(Ee,Re,Ve))&&(Oe=r(r({},Fe),W(Ve,Fe.message)),n&&(l[a]=Oe)),u.label=6;case 6:return ke=we.next(),[3,4];case 7:return[3,10];case 8:return De=u.sent(),je={error:De},[3,10];case 9:try{ke&&!ke.done&&(Be=we.return)&&Be.call(we)}finally{if(je)throw je.error}return[7];case 10:if(!U(Oe)&&(l[a]=r({ref:Re},Oe),!n))return[2,l];u.label=11;case 11:return[2,l]}}))}))},ie=function(e){return w(e)||!C(e)},ae=function(e,r){var n=function(r,n,t){var u=t?e+"."+n:e+"["+n+"]";return ie(r)?u:ae(u,r)};return k(r)?r.map((function(e,r){return n(e,r)})):Object.entries(r).map((function(e){var r=i(e,2),t=r[0],u=r[1];return n(u,t,!0)}))},oe=function(e,r,n,t,u){var c;return n.add(r),U(e)?c=void 0:(c=A(e,r),j(c)||function(e,r){return ae(e,r).flat(1/0)}(r,c).forEach((function(e){return n.add(e)}))),j(c)?u?t:A(t,r):c},se=function(e){var r=e.isOnBlur,n=e.isOnChange,t=e.isReValidateOnBlur,u=e.isReValidateOnChange,c=e.isBlurEvent,i=e.isSubmitted;return(i?t:r)?!c:!(i?u:n)||c},le=function(e){return e.substring(0,e.indexOf("["))};function fe(e,r){if(!k(e)||!k(r)||e.length!==r.length)return!0;for(var n=0;n<e.length;n++){var t=e[n],u=r[n];if(j(u)||Object.keys(t).length!==Object.keys(u).length)return!0;for(var c in t)if(t[c]!==u[c])return!0}return!1}var de=function(e,r){return RegExp(("^"+r+"[\\d+]").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e)},ve=function(e,r){return a(e).some((function(e){return de(r,e)}))},he=function(e){return"select-one"===e.type};var ye=function(e){return{isOnSubmit:!e||e===h,isOnBlur:e===d,isOnChange:e===v,isOnAll:e===y}},pe=function(e){return P(e)||H(e)},me="undefined"==typeof window,be="undefined"!=typeof document&&!me&&!j(window.HTMLElement),ge=be?"Proxy"in window:"undefined"!=typeof Proxy;var Re=e.createContext(null);Re.displayName="RHFContext";var xe=function(){return e.useContext(Re)},Oe=function(){var e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var n=(16*Math.random()+e)%16|0;return("x"==r?n:3&n|8).toString(16)}))};var we=function(e,r){return j(r)?[]:k(r)?function(e,r){for(var n=-1;++n<e.length;)r.indexOf(n)>=0&&delete e[n];return B(e)}(e,r):function(e,r){return a(e.slice(0,r),e.slice(r+1))}(e,r)},ke=function(e,r,n){return k(e)?e.splice(n,0,e.splice(r,1)[0]):[]},Ce=function(e,r,n){var t=[e[n],e[r]];e[r]=t[0],e[n]=t[1]};function Ve(e,r){return a(k(r)?r:[r||null],e)}function Se(e,r,n){return a(e.slice(0,r),k(n)?n:[n||null],e.slice(r))}var Ee=function(e){return k(e)?Array(e.length).fill(null):null};function Fe(e){if(V(e)){var r={};for(var n in e)r[n]=!0;return[r]}return[!0]}var De=function(e){return k(e)?e.map(Fe).flat():Fe(e)},je=function(e,n){var t;return r(((t={})[n]=Oe(),t),V(e)?e:{value:e})},Be=function(e,r){return(k(e)?e:[]).map((function(e){return je(e,r)}))};exports.Controller=function(t){var u=t.name,c=t.rules,a=t.as,o=t.render,s=t.defaultValue,l=t.control,f=t.onFocus,d=n(t,["name","rules","as","render","defaultValue","control","onFocus"]),v=xe(),h=l||v.control,y=h.defaultValuesRef,p=h.setValue,m=h.register,b=h.unregister,g=h.trigger,R=h.mode,x=R.isOnChange,O=R.isOnBlur,w=h.reValidateMode,k=w.isReValidateOnBlur,C=w.isReValidateOnChange,S=h.isSubmittedRef,E=h.touchedFieldsRef,D=h.readFormStateRef,B=h.reRender,W=h.fieldsRef,L=h.fieldArrayNamesRef,N=h.unmountFieldsStateRef,P=h.formState,M=!ve(L.current,u),H=function(){return!j(A(N.current,u))&&M?N.current[u]:j(s)?A(y.current,u):s},T=i(e.useState(H()),2),I=T[0],q=T[1],z=e.useRef(I),$=e.useRef(f),_=S.current,U=function(){return!se({isOnBlur:O,isOnChange:x,isReValidateOnBlur:k,isReValidateOnChange:C,isSubmitted:_})},G=function(e){var r=function(e){return ie(e)||!V(e.target)||V(e.target)&&!e.type?e:j(e.target.value)?e.target.checked:e.target.value}(i(e,1)[0]);return q(r),z.current=r,r},J=e.useCallback((function(){W.current[u]?W.current[u]=r({ref:W.current[u].ref},c):m(Object.defineProperty({name:u,focus:$.current},"value",{set:function(e){q(e),z.current=e},get:function(){return z.current}}),c)}),[W,c,u,$,m]);e.useEffect((function(){return function(){!ve(L.current,u)&&b(u)}}),[b,u,L]),e.useEffect((function(){J()}),[J]),e.useEffect((function(){W.current[u]||(J(),M&&q(H()))}));var K=function(){D.current.touched&&!A(E.current,u)&&(F(E.current,u,!0),B()),(O||P.isSubmitted&&k)&&g(u)},Q=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return p(u,G(e),{shouldValidate:U(),shouldDirty:!0})},X=r(r({},d),{onChange:Q,onBlur:K,name:u,value:I});return a?e.isValidElement(a)?e.cloneElement(a,X):e.createElement(a,X):o?o({onChange:Q,onBlur:K,value:I}):null},exports.FormProvider=function(t){var u=t.children,c=n(t,["children"]);return e.createElement(Re.Provider,{value:r({},c)},u)},exports.appendErrors=ue,exports.get=A,exports.transformToNestObject=D,exports.useFieldArray=function(n){var t,u=n.control,o=n.name,s=n.keyName,l=void 0===s?"id":s,f=xe(),d=e.useRef(-1),v=u||f.control,h=v.isWatchAllRef,y=v.resetFieldArrayFunctionRef,p=v.fieldArrayNamesRef,m=v.reRender,b=v.fieldsRef,g=v.defaultValuesRef,R=v.removeFieldEventListener,x=v.errorsRef,O=v.dirtyFieldsRef,w=v.isDirtyRef,C=v.touchedFieldsRef,V=v.readFormStateRef,E=v.watchFieldsRef,F=v.validFieldsRef,D=v.fieldsWithValidationRef,W=v.fieldArrayDefaultValues,L=v.validateSchemaIsValid,N=v.renderWatchedInputs,P=v.getValues,M=function(){return a(A(W.current[le(o)]?W.current:g.current,o,[]))},H=e.useRef(M()),T=i(e.useState(Be(H.current,l)),2),I=T[0],q=T[1],z=i(e.useState(!1),2),$=z[0],_=z[1],U=e.useRef(I),G=S(o),J=function(){return E.current.has(o)?A(P(),o).map((function(e,n){return r(r({},U.current[n]),e)})):U.current};U.current=I,G&&(W.current[o]=H.current);var K=function(e){return e.map((function(e){return je(e,l)}))},Q=function(e){var r;q(e),V.current.isValid&&L&&L(((r={})[o]=e,r))},X=function(e){(V.current.dirtyFields||V.current.isDirty)&&(e=!0),N(o),e&&!h.current&&m()},Y=function(e){for(var r in V.current.isDirty&&(w.current=j(e)||fe(e,A(g.current,o,[]))),b.current)de(r,o)&&b.current[r]&&R(b.current[r],!0)},Z=function(){Y(),H.current=M(),q(Be(H.current,l))};return e.useEffect((function(){var e,r;if(G&&$&&W.current[o]&&I.length<W.current[o].length&&W.current[o].pop(),h.current)m();else if(E)try{for(var n=c(E.current),t=n.next();!t.done;t=n.next()){if(t.value.startsWith(o)){m();break}}}catch(r){e={error:r}}finally{try{t&&!t.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}if(d.current>-1)for(var u in b.current){var i=b.current[u];if(u.startsWith(o+"["+d.current+"]")&&i.ref.focus){i.ref.focus();break}}d.current=-1}),[I,o,W,$,G,m,b,E,h]),e.useEffect((function(){var e=y.current,r=p.current;return r.add(o),e[o]=Z,function(){Y(),delete e[o],r.delete(o)}}),[]),{swap:e.useCallback((function(e,r){t=!1;var n=J();Ce(n,e,r),Y(n),Q(a(n)),k(A(x.current,o))&&Ce(A(x.current,o),e,r),V.current.touched&&C.current[o]&&(Ce(C.current[o],e,r),t=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(Ce(O.current[o],e,r),t=!0),X(t)}),[o]),move:e.useCallback((function(e,r){t=!1;var n=J();ke(n,e,r),Y(n),Q(a(n)),k(A(x.current,o))&&ke(A(x.current,o),e,r),V.current.touched&&C.current[o]&&(ke(C.current[o],e,r),t=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(ke(O.current[o],e,r),t=!0),X(t)}),[o]),prepend:e.useCallback((function(e,r){void 0===r&&(r=!0);var n=Ee(e);t=!1,Q(Ve(J(),k(e)?K(e):[je(e,l)])),Y(),k(A(x.current,o))&&(x.current[o]=Ve(A(x.current,o),n)),V.current.touched&&C.current[o]&&(C.current[o]=Ve(C.current[o],n),t=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(O.current[o]=Ve(O.current[o],De(e)),t=!0),X(t),d.current=r?0:-1}),[o]),append:e.useCallback((function(e,r){void 0===r&&(r=!0),t=!1,Q(a(U.current,k(e)?K(e):[je(e,l)])),V.current.dirtyFields&&(O.current[o]=a(O.current[o]||Ee(I.slice(0,1)),De(e)),w.current=!0,t=!0),d.current=r?U.current.length:-1,X(t)}),[o]),remove:e.useCallback((function(e){if(t=!1,Q(we(J(),e)),Y(we(A(P(),o),e)),_(!0),k(A(x.current,o))&&(x.current[o]=we(A(x.current,o),e),B(x.current[o]).length||delete x.current[o]),V.current.touched&&C.current[o]&&(C.current[o]=we(C.current[o],e),t=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(O.current[o]=we(O.current[o],e),O.current[o].length||delete O.current[o],t=!0),V.current.isValid&&!L)for(var r=-1,n=!1,u=j(e);r++<I.length;){var c=r===I.length-1,i=(k(e)?e:[e]).indexOf(r)>=0;if((i||u)&&(n=!0),n)for(var a in I[r]){var s=o+"["+r+"]."+a;if(i||c||u)F.current.delete(s),D.current.delete(s);else{var l=o+"["+(r-1)+"]."+a;F.current.has(s)&&F.current.add(l),D.current.has(s)&&D.current.add(l)}}}X(t)}),[I,o]),insert:e.useCallback((function(e,r,n){void 0===n&&(n=!0),t=!1;var u=Ee(r);Q(Se(J(),e,k(r)?K(r):[je(r,l)])),Y(Se(A(P(),o),e)),k(A(x.current,o))&&(x.current[o]=Se(A(x.current,o),e,u)),V.current.touched&&C.current[o]&&(C.current[o]=Se(C.current[o],e,u),t=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(O.current[o]=Se(O.current[o],e,De(r)),t=!0),X(t),d.current=n?e:-1}),[o]),fields:I}},exports.useForm=function(n){var d=this,p=void 0===n?{}:n,m=p.mode,b=void 0===m?h:m,g=p.reValidateMode,R=void 0===g?v:g,x=p.resolver,O=p.context,C=p.defaultValues,S=void 0===C?{}:C,E=p.shouldFocusError,L=void 0===E||E,N=p.shouldUnregister,I=void 0===N||N,q=p.criteriaMode,z=e.useRef({}),Y=e.useRef({}),Z=e.useRef({}),re=e.useRef({}),ne=e.useRef({}),te=e.useRef(new Set),ue=e.useRef({}),ae=e.useRef({}),de=e.useRef(new Set),Re=e.useRef(new Set),xe=e.useRef(!0),Oe=e.useRef(S),we=e.useRef({}),ke=e.useRef(!1),Ce=e.useRef(!1),Ve=e.useRef(!1),Se=e.useRef(!1),Ee=e.useRef(0),Fe=e.useRef(!1),De=e.useRef(),je=e.useRef({}),Be=e.useRef({}),Ae=e.useRef(O),We=e.useRef(x),Le=e.useRef(new Set),Ne=i(e.useState(),2)[1],Pe=e.useRef(ye(b)).current,Me=Pe.isOnBlur,He=Pe.isOnSubmit,Te=Pe.isOnChange,Ie=Pe.isOnAll,qe=q===y,ze=e.useRef({isDirty:!ge,dirtyFields:!ge,isSubmitted:He,submitCount:!ge,touched:!ge,isSubmitting:!ge,isValid:!ge}),$e=e.useRef(ye(R)).current,_e=$e.isOnBlur,Ue=$e.isOnChange;Ae.current=O,We.current=x;var Ge=e.useCallback((function(){return!ke.current&&Ne({})}),[]),Je=e.useCallback((function(e,r,n){void 0===n&&(n=!1);var t=n||function(e){var r=e.errors,n=e.name,t=e.error,u=e.validFields,c=e.fieldsWithValidation,i=U(t),a=U(r),o=A(t,n),s=A(r,n);return(!i||!u.has(n))&&(!!(a!==i||!a&&!s||i&&c.has(n)&&!u.has(n))||o&&!X(s,o))}({errors:Y.current,error:r,name:e,validFields:Re.current,fieldsWithValidation:de.current}),u=A(Y.current,e);if(U(r)?((de.current.has(e)||We.current)&&(Re.current.add(e),t=t||u),Y.current=G(Y.current,e)):(Re.current.delete(e),t=t||!u||!X(u,r[e]),F(Y.current,e,r[e])),t&&!w(n))return Ge(),!0}),[]),Ke=e.useCallback((function(e,r){var n=e.ref,t=e.options,u=be&&o(n)&&w(r)?"":r;P(n)&&t?t.forEach((function(e){var r=e.ref;return r.checked=r.value===u})):M(n)&&!K(u)?n.files=u:T(n)?a(n.options).forEach((function(e){return e.selected=u.includes(e.value)})):H(n)&&t?t.length>1?t.forEach((function(e){var r=e.ref;return r.checked=u.includes(r.value)})):t[0].ref.checked=!!u:n.value=u}),[]),Qe=e.useCallback((function(e){var r=ze.current,n=r.isDirty,t=r.dirtyFields;if(!z.current[e]||!n&&!t)return!1;var u=we.current[e]!==$(z,e,je),c=A(ne.current,e),i=ve(Le.current,e),a=Se.current;return u?F(ne.current,e,!0):G(ne.current,e),Se.current=i&&fe(A(ur(),le(e)),A(Oe.current,le(e)))||!U(ne.current),n&&a!==Se.current||t&&c!==A(ne.current,e)}),[]),Xe=e.useCallback((function(e,r){return t(d,void 0,void 0,(function(){var n;return u(this,(function(t){switch(t.label){case 0:return z.current[e]?[4,ce(z,qe,z.current[e],je)]:[3,2];case 1:return n=t.sent(),Je(e,n,!!r&&null),[2,U(n)];case 2:return[2,!1]}}))}))}),[Je,qe]),Ye=e.useCallback((function(e){return t(d,void 0,void 0,(function(){var r,n,t,c,i;return u(this,(function(u){switch(u.label){case 0:return[4,We.current(ur(),Ae.current,qe)];case 1:return r=u.sent().errors,n=xe.current,xe.current=U(r),k(e)?(t=e.map((function(e){var n=A(r,e);return n?F(Y.current,e,n):G(Y.current,e),!n})).every(Boolean),Ge(),[2,t]):(c=A(r,e),Je(e,c?((i={})[e]=c,i):{},n!==xe.current),[2,!c])}}))}))}),[Je,qe]),Ze=e.useCallback((function(e){return t(d,void 0,void 0,(function(){var r,n,c=this;return u(this,(function(i){switch(i.label){case 0:return r=e||Object.keys(z.current),We.current?[2,Ye(r)]:k(r)?[4,Promise.all(r.map((function(e){return t(c,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,Xe(e,!0)];case 1:return[2,r.sent()]}}))}))})))]:[3,2];case 1:return n=i.sent(),Ge(),[2,n.every(Boolean)];case 2:return[4,Xe(r)];case 3:return[2,i.sent()]}}))}))}),[Ye,Xe]),er=e.useCallback((function(e,r,n,t){for(var u in r){var c=(t||e)+(k(r)?"["+u+"]":"."+u),i=z.current[c];V(r[u])&&er(e,r[u],n,c),i&&(Ke(i,r[u]),n.shouldDirty&&Qe(c),n.shouldValidate&&Ze(c))}}),[Ze,Ke,Qe]),rr=e.useCallback((function(e,r,n){return z.current[e]?(Ke(z.current[e],r),n.shouldDirty&&Qe(e)):ie(r)?void(je.current[e]=r):(er(e,r,n),!0)}),[Qe,Ke,er]),nr=function(e){return Ce.current||te.current.has(e)||te.current.has((e.match(/\w+/)||[])[0])},tr=function(e,r){if(void 0===r&&(r=!0),!U(ue.current))for(var n in ue.current)(""===e||ue.current[n].has(e)||ue.current[n].has(le(e))||!ue.current[n].size)&&(ae.current[n](),r=!1);return r};function ur(e){return K(e)?$(z,e,je):k(e)?e.reduce((function(e,n){var t;return r(r({},e),((t={})[n]=$(z,n,je),t))}),{}):Q(z,je)}De.current=De.current?De.current:function(e){var r=e.type,n=e.target;return t(d,void 0,void 0,(function(){var e,t,c,i,a,o,l,f,d;return u(this,(function(u){switch(u.label){case 0:return e=n.name,(t=z.current[e])?(i=r===s,a=!Ie&&se({isOnChange:Te,isOnBlur:Me,isBlurEvent:i,isReValidateOnChange:Ue,isReValidateOnBlur:_e,isSubmitted:Ve.current}),o=Qe(e)||nr(e),i&&!A(Z.current,e)&&ze.current.touched&&(F(Z.current,e,!0),o=!0),a?(tr(e),[2,o&&Ge()]):x?[4,x(ur(),Ae.current,qe)]:[3,2]):[3,5];case 1:return l=u.sent().errors,f=xe.current,xe.current=U(l),c=A(l,e)?((d={})[e]=A(l,e),d):{},f!==xe.current&&(o=!0),[3,4];case 2:return[4,ce(z,qe,t,je)];case 3:c=u.sent(),u.label=4;case 4:tr(e),!Je(e,c)&&o&&Ge(),u.label=5;case 5:return[2]}}))}))};var cr=e.useCallback((function(e){void 0===e&&(e={}),We.current(r(r(r({},Oe.current),ur()),e),Ae.current,qe).then((function(e){var r=e.errors,n=xe.current;xe.current=U(r),n!==xe.current&&Ge()}))}),[qe]),ir=e.useCallback((function(e,r){return function(e,r,n,t,u,c){var i=n.ref,a=n.ref,o=a.name,s=a.type,l=n.mutationWatcher,f=e.current[o];if(!u){var d=$(e,o,t);j(d)||(t.current[o]=d)}if(s)if((P(i)||H(i))&&f){var v=f.options;k(v)&&v.length?(B(v).forEach((function(e,n){var t=e.ref,u=e.mutationWatcher;(t&&_(t)&&J(e,t)||c)&&(W(t,r),u&&u.disconnect(),G(v,"["+n+"]"))})),v&&!B(v).length&&delete e.current[o]):delete e.current[o]}else(_(i)&&J(f,i)||c)&&(W(i,r),l&&l.disconnect(),delete e.current[o]);else delete e.current[o]}(z,De.current,e,je,I,r)}),[I]),ar=e.useCallback((function(e,r){!e||ve(Le.current,e.ref.name)&&!r||(ir(e,r),I&&([Y,Z,ne,we].forEach((function(r){return G(r.current,e.ref.name)})),[de,Re].forEach((function(r){return r.current.delete(e.ref.name)})),(ze.current.isValid||ze.current.touched||ze.current.isDirty)&&(Se.current=!U(ne.current),Ge(),We.current&&cr())))}),[cr,ir]),or=e.useCallback((function(e,n,t){var u=t?ue.current[t]:te.current,c=j(n)?Oe.current:n,i=Q(z,je,e);return K(e)?oe(i,e,u,j(n)?A(c,e):n,!0):k(e)?e.reduce((function(e,n){var t;return r(r({},e),((t={})[n]=oe(i,n,u,c),t))}),{}):(j(t)&&(Ce.current=!0),D(!U(i)&&i||c))}),[]);function sr(e,n){void 0===n&&(n={});var t,u,c=e.name,i=e.type,d=e.value,v=r({ref:e},n),h=z.current,y=pe(e),p=h[c],m=!0;if(p&&(y?k(p.options)&&B(p.options).find((function(r){return d===r.ref.value&&r.ref===e})):e===p.ref))h[c]=r(r({},p),n);else{if(i){var b=(g=e,R=function(){return ar(p)},(O=new MutationObserver((function(){_(g)&&(O.disconnect(),R())}))).observe(window.document,{childList:!0,subtree:!0}),O);p=y?r({options:a(B(p&&p.options||[]),[{ref:e,mutationWatcher:b}]),ref:{type:i,name:c}},n):r(r({},v),{mutationWatcher:b})}else p=v;var g,R,O;h[c]=p;var w=j(A(je.current,c));U(Oe.current)&&w||(u=A(w?Oe.current:je.current,c),m=j(u),t=ve(Le.current,c),m||t||Ke(p,u)),x&&!t&&ze.current.isValid?cr():U(n)||(de.current.add(c),!He&&ze.current.isValid&&ce(z,qe,p,je).then((function(e){var r=xe.current;U(e)?Re.current.add(c):xe.current=!1,r!==xe.current&&Ge()}))),we.current[c]||t&&m||(we.current[c]=m?$(z,c,je):u),i&&function(e){var r=e.field.ref,n=e.handleChange,t=e.isRadioOrCheckbox;o(r)&&n&&(r.addEventListener(t?l:f,n),r.addEventListener(s,n))}({field:y&&p.options?p.options[p.options.length-1]:p,isRadioOrCheckbox:y||he(e),handleChange:De.current})}}var lr=e.useCallback((function(e){return function(n){return t(d,void 0,void 0,(function(){var t,i,a,o,s,l,f,d,v,h,y,p,m;return u(this,(function(u){switch(u.label){case 0:n&&n.preventDefault&&(n.preventDefault(),n.persist()),t={},i=r(r({},je.current),ur()),ze.current.isSubmitting&&(Fe.current=!0,Ge()),u.label=1;case 1:return u.trys.push([1,,14,15]),We.current?[4,We.current(i,Ae.current,qe)]:[3,3];case 2:return a=u.sent(),o=a.errors,s=a.values,Y.current=o,t=o,i=s,[3,10];case 3:u.trys.push([3,8,9,10]),l=c(Object.values(z.current)),f=l.next(),u.label=4;case 4:return f.done?[3,7]:(d=f.value)?(v=d.ref.name,[4,ce(z,qe,d,je)]):[3,6];case 5:(h=u.sent())[v]?(F(t,v,h[v]),Re.current.delete(v)):de.current.has(v)&&(G(Y.current,v),Re.current.add(v)),u.label=6;case 6:return f=l.next(),[3,4];case 7:return[3,10];case 8:return y=u.sent(),p={error:y},[3,10];case 9:try{f&&!f.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 10:return U(t)&&Object.keys(Y.current).every((function(e){return Object.keys(z.current).includes(e)}))?(Y.current={},Ge(),[4,e(i,n)]):[3,12];case 11:return u.sent(),[3,13];case 12:Y.current=r(r({},Y.current),t),L&&function(e,r){for(var n in e)if(A(r,n)){var t=e[n];if(t){if(t.ref.focus){t.ref.focus();break}if(t.options){t.options[0].ref.focus();break}}}}(z.current,t),u.label=13;case 13:return[3,15];case 14:return Ve.current=!0,Fe.current=!1,Ee.current=Ee.current+1,Ge(),[7];case 15:return[2]}}))}))}}),[L,qe]);e.useEffect((function(){return ke.current=!1,function(){ke.current=!0,z.current&&Object.values(z.current).forEach((function(e){return ar(e,!0)}))}}),[ar]),x||(xe.current=Re.current.size>=de.current.size&&U(Y.current));var fr={dirtyFields:ne.current,isSubmitted:Ve.current,submitCount:Ee.current,touched:Z.current,isDirty:Se.current,isSubmitting:Fe.current,isValid:He?Ve.current&&U(Y.current):xe.current},dr={trigger:Ze,setValue:e.useCallback((function(e,r,n){void 0===n&&(n={});var t=rr(e,r,n)||nr(e);tr(e),t&&Ge(),n.shouldValidate&&Ze(e)}),[Ge,rr,Ze]),getValues:e.useCallback(ur,[]),register:e.useCallback((function(e,r){if(!me)if(K(e))sr({name:e},r);else{if(!V(e)||!("name"in e))return function(r){return r&&sr(r,e)};sr(e,r)}}),[Oe.current]),unregister:e.useCallback((function(e){(k(e)?e:[e]).forEach((function(e){return ar(z.current[e],!0)}))}),[]),formState:ge?new Proxy(fr,{get:function(e,r){if(r in e)return ze.current[r]=!0,e[r]}}):fr},vr=r(r(r({removeFieldEventListener:ir,renderWatchedInputs:tr,watchInternal:or,reRender:Ge},x?{validateSchemaIsValid:cr}:{}),{mode:{isOnBlur:Me,isOnSubmit:He,isOnChange:Te},reValidateMode:{isReValidateOnBlur:_e,isReValidateOnChange:Ue},errorsRef:Y,touchedFieldsRef:Z,fieldsRef:z,isWatchAllRef:Ce,watchFieldsRef:te,resetFieldArrayFunctionRef:Be,watchFieldsHookRef:ue,watchFieldsHookRenderRef:ae,fieldArrayDefaultValues:re,validFieldsRef:Re,dirtyFieldsRef:ne,fieldsWithValidationRef:de,fieldArrayNamesRef:Le,isDirtyRef:Se,isSubmittedRef:Ve,readFormStateRef:ze,defaultValuesRef:Oe,unmountFieldsStateRef:je}),dr);return r({watch:function(e,r){return or(e,r)},control:vr,handleSubmit:lr,reset:e.useCallback((function(e,r){var n,t;if(void 0===r&&(r={}),be)try{for(var u=c(Object.values(z.current)),i=u.next();!i.done;i=u.next()){var a=i.value;if(a){var s=a.ref,l=a.options,f=pe(s)&&k(l)?l[0].ref:s;if(o(f))try{f.closest("form").reset();break}catch(e){}}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(t=u.return)&&t.call(u)}finally{if(n)throw n.error}}e&&(Oe.current=e,tr("")),je.current=e||{},Object.values(Be.current).forEach((function(e){return ee(e)&&e()})),function(e){var r=e.errors,n=e.isDirty,t=e.isSubmitted,u=e.touched,c=e.isValid,i=e.submitCount,a=e.dirtyFields;z.current={},r||(Y.current={}),u||(Z.current={}),c||(Re.current=new Set,de.current=new Set,xe.current=!0),n||(Se.current=!1),a||(ne.current={}),t||(Ve.current=!1),i||(Ee.current=0),we.current={},re.current={},te.current=new Set,Ce.current=!1}(r),Ge()}),[]),clearErrors:e.useCallback((function(e){e?(k(e)?e:[e]).forEach((function(e){return G(Y.current,e)})):Y.current={},Ge()}),[]),setError:e.useCallback((function(e,n){xe.current=!1,F(Y.current,e,r(r({},n),{ref:(z.current[e]||{}).ref})),Ge()}),[]),errors:Y.current},dr)},exports.useFormContext=xe,exports.useWatch=function(n){var t=n.control,u=n.name,c=n.defaultValue,a=xe(),o=t||a.control,s=o.watchFieldsHookRef,l=o.watchFieldsHookRenderRef,f=o.watchInternal,d=o.defaultValuesRef,v=i(e.useState(j(c)?K(u)?A(d.current,u):k(u)?u.reduce((function(e,n){var t;return r(r({},e),((t={})[n]=A(d.current,n),t))}),{}):d.current:c),2),h=v[0],y=v[1],p=e.useRef(),m=e.useRef(c),b=e.useRef(u),g=e.useCallback((function(){return y(f(b.current,m.current,p.current))}),[y,f,m,b,p]);return e.useEffect((function(){var e=p.current=Oe(),r=l.current,n=s.current;return n[e]=new Set,r[e]=g,f(b.current,m.current,e),function(){delete n[e],delete r[e]}}),[b,g,l,s,f,m]),j(h)?c:h};
//# sourceMappingURL=index.ie11.production.min.js.map
